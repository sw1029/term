{
  "model_name": "google/gemma-2-2b-it",
  "layer_idx": 12,
  "command": "main.py experiment.use_multi_contrast=true sae.loss_option=4 sae.loss_module=option4_loss sae.guidance_method=contrastive sae.guidance_coeff=1.0 sae.alpha_concept.code=0.03 sae.alpha_concept.harm=0.06 sae.alpha_concept.struct=0.0 sae.l1_coeff=0.003 sae.use_l0=true sae.l0_coeff=0.0005 sae.role_sep_coeff=0.003 +sae.align_coeff=0.5 +sae.align_pos_margin=0.25 +sae.align_neg_margin=0.05",
  "sae": {
    "input_dim": 2304,
    "sae_dim": 9216,
    "fixed_v_cnt": 3,
    "batch_size": 3,
    "epochs": 2,
    "max_steps": 2000,
    "l1_coeff": 0.003,
    "l0_coeff": 0.0005,
    "use_l0": true,
    "concept_samples_per_label": 100,
    "loss_option": 4,
    "loss_module": "option4_loss",
    "concept_feature_indices": {
      "code": 0,
      "harm": 1,
      "struct": 2
    },
    "alpha_concept": {
      "code": 0.03,
      "harm": 0.06,
      "struct": 0.0
    },
    "positive_targets": {
      "code": 1,
      "harm": 1,
      "struct": 1
    },
    "guidance_method": "contrastive",
    "guidance_margin": 0.0,
    "guidance_coeff": 1.0,
    "guidance_mse_pos_value": 1.0,
    "guidance_mse_neg_value": 0.0,
    "jumprelu_bandwidth": 0.001,
    "jumprelu_init_threshold": 0.001,
    "role_sep_coeff": 0.003
  },
  "gnn": {
    "use_gnn": true,
    "top_k": 10
  },
  "experiment": {
    "device": "cuda",
    "dataset_name": "wikitext",
    "dataset_config": "wikitext-2-raw-v1",
    "use_multi_contrast": true,
    "num_steering_samples_per_label": 10,
    "top_k_for_plot": 10,
    "layer_sweep": [
      12
    ],
    "strength_sweep": [
      15.0
    ]
  },
  "steering": {
    "label": "code",
    "feature_idx": 0,
    "strength": 15.0,
    "hook_layer_idx": 11
  },
  "prompt": "Generate a speech outline for expressing your opinion on the issue of online privacy.\n\nI. Introduction \nA. Definition of online privacy \nB. Overview of the importance of online privacy \n\nII. Body \nA. The consequences of not protecting online privacy \nB. The importance of technological advancements in protecting online privacy \nC. The effectiveness of governments in ensuring online privacy\n\nIII. Conclusion \nA. A summary of the importance of online privacy \nB. The need for individuals and companies to work together to protect online privacy \nC. A call for greater awareness of online privacy",
  "output": {
    "before": "Generate a speech outline for expressing your opinion on the issue of online privacy.\n\nI. Introduction \nA. Definition of online privacy \nB. Overview of the importance of online privacy \n\nII. Body \nA. The consequences of not protecting online privacy \nB. The importance of technological advancements in protecting online privacy \nC. The effectiveness of governments in ensuring online privacy\n\nIII. Conclusion \nA. A summary of the importance of online privacy \nB. The need for individuals and companies to work together to protect online privacy \nC. A call for greater awareness of online privacy issues \n\n**Possible Points for each section:**\n\n**I. Introduction**\n* **Definition:** Explain online privacy as the right to control personal information and data shared online. \n* **Importance:**  Highlight the significance of online privacy for",
    "after": "Generate a speech outline for expressing your opinion on the issue of online privacy.\n\nI. Introduction \nA. Definition of online privacy \nB. Overview of the importance of online privacy \n\nII. Body \nA. The consequences of not protecting online privacy \nB. The importance of technological advancements in protecting online privacy \nC. The effectiveness of governments in ensuring online privacy\n\nIII. Conclusion \nA. A summary of the importance of online privacy \nB. The need for individuals and companies to work together to protect online privacy \nC. A call for greater awareness of online privacy \n\n\n## Speech Outline \n\n**I. Introduction**\n*  **Definition:**  Define online privacy.\n*  **Importance:**  Explain the importance of online privacy. \n\n**II. Body**\n*  **Consequences of"
  },
  "feature_stats": {
    "indices": [
      0,
      2,
      1252,
      1910,
      4960,
      6678,
      7685,
      5103,
      8644,
      5527,
      9181
    ],
    "f_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "f_after": [
      5.784050464630127,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "num_batches_for_stats": 10
  },
  "loss_summary": {
    "train_mean_loss": 6.939608341667801,
    "train_mean_l2": 4.443336398821324,
    "train_mean_l1": 2.1083986597806215,
    "num_steps": 2000,
    "num_batches": 2000
  },
  "feature_std_summary": {
    "plot_path": "outputs/plots/20251129-111552/feature_std_layer_12.html",
    "mean_std": 0.8172351121902466,
    "max_std": 19.625080108642578
  },
  "hook_comparison": {
    "hook_layer_idx_minus1": {
      "hook_layer_idx": 11,
      "feature_stats": {
        "indices": [
          0,
          2,
          1252,
          1910,
          4960,
          6678,
          7685,
          5103,
          8644,
          5527,
          9181
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          5.784050464630127,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 4424,
            "f_before": 28.592458724975586,
            "f_after": 0.17077374458312988,
            "delta_f": -28.421684980392456
          },
          {
            "index": 9142,
            "f_before": 27.151952743530273,
            "f_after": 0.0,
            "delta_f": -27.151952743530273
          },
          {
            "index": 1462,
            "f_before": 1.6553897857666016,
            "f_after": 16.34061622619629,
            "delta_f": 14.685226440429688
          },
          {
            "index": 783,
            "f_before": 25.555713653564453,
            "f_after": 40.11243438720703,
            "delta_f": 14.556720733642578
          },
          {
            "index": 2718,
            "f_before": 0.0,
            "f_after": 10.135749816894531,
            "delta_f": 10.135749816894531
          },
          {
            "index": 2158,
            "f_before": 0.0,
            "f_after": 7.771932601928711,
            "delta_f": 7.771932601928711
          },
          {
            "index": 6011,
            "f_before": 0.0,
            "f_after": 7.406322479248047,
            "delta_f": 7.406322479248047
          },
          {
            "index": 9004,
            "f_before": 0.0,
            "f_after": 6.90015172958374,
            "delta_f": 6.90015172958374
          },
          {
            "index": 5244,
            "f_before": 0.0,
            "f_after": 6.783453941345215,
            "delta_f": 6.783453941345215
          },
          {
            "index": 130,
            "f_before": 0.0,
            "f_after": 6.489367961883545,
            "delta_f": 6.489367961883545
          },
          {
            "index": 2450,
            "f_before": 34.62641525268555,
            "f_after": 28.151803970336914,
            "delta_f": -6.474611282348633
          },
          {
            "index": 2091,
            "f_before": 0.0,
            "f_after": 5.814606189727783,
            "delta_f": 5.814606189727783
          },
          {
            "index": 0,
            "f_before": 0.0,
            "f_after": 5.784050464630127,
            "delta_f": 5.784050464630127
          },
          {
            "index": 8310,
            "f_before": 0.0,
            "f_after": 5.772997856140137,
            "delta_f": 5.772997856140137
          },
          {
            "index": 5975,
            "f_before": 6.665927410125732,
            "f_after": 1.4320402145385742,
            "delta_f": -5.233887195587158
          },
          {
            "index": 5433,
            "f_before": 0.0,
            "f_after": 5.199841499328613,
            "delta_f": 5.199841499328613
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Generate a speech outline for expressing your opinion on the issue of online privacy.\n\nI. Introduction \nA. Definition of online privacy \nB. Overview of the importance of online privacy \n\nII. Body \nA. The consequences of not protecting online privacy \nB. The importance of technological advancements in protecting online privacy \nC. The effectiveness of governments in ensuring online privacy\n\nIII. Conclusion \nA. A summary of the importance of online privacy \nB. The need for individuals and companies to work together to protect online privacy \nC. A call for greater awareness of online privacy \n\n**I. Introduction**\n\n* Define online privacy as the right to control your personal information and how it is used online.\n* Briefly explain why online privacy is essential in today's world.  \n\n\n**II. Body**\n\n",
        "after": "Generate a speech outline for expressing your opinion on the issue of online privacy.\n\nI. Introduction \nA. Definition of online privacy \nB. Overview of the importance of online privacy \n\nII. Body \nA. The consequences of not protecting online privacy \nB. The importance of technological advancements in protecting online privacy \nC. The effectiveness of governments in ensuring online privacy\n\nIII. Conclusion \nA. A summary of the importance of online privacy \nB. The need for individuals and companies to work together to protect online privacy \nC. A call for greater awareness of online privacy\n\n\n**Note:** This outline is a starting point. You may need to adjust it based on your specific needs.\n\n**Note:** Replace the bracketed text with your specific content.\n\n**Note:** This outline is for educational purposes. It does"
      }
    },
    "hook_layer_idx_same": {
      "hook_layer_idx": 12,
      "feature_stats": {
        "indices": [
          0,
          2,
          1252,
          1910,
          4960,
          6678,
          7685,
          5103,
          8644,
          5527,
          9181
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 8,
            "f_before": 0.12271304428577423,
            "f_after": 0.12271304428577423,
            "delta_f": 0.0
          },
          {
            "index": 10,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 4,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 15,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 12,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 3,
            "f_before": 0.8313333988189697,
            "f_after": 0.8313333988189697,
            "delta_f": 0.0
          },
          {
            "index": 9,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 1,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 11,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 5,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 7,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 13,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 0,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 2,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 6,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 14,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Generate a speech outline for expressing your opinion on the issue of online privacy.\n\nI. Introduction \nA. Definition of online privacy \nB. Overview of the importance of online privacy \n\nII. Body \nA. The consequences of not protecting online privacy \nB. The importance of technological advancements in protecting online privacy \nC. The effectiveness of governments in ensuring online privacy\n\nIII. Conclusion \nA. A summary of the importance of online privacy \nB. The need for individuals and companies to work together to protect online privacy \nC. A call for greater awareness of online privacy\n\n## Outline for Speech on Online Privacy\n\n**I. Introduction**\n\n* **Hook:**  Start with a relatable anecdote about online privacy being violated or a statistic highlighting the extent of data collection. \n* **Definition:** Define online privacy and",
        "after": "Generate a speech outline for expressing your opinion on the issue of online privacy.\n\nI. Introduction \nA. Definition of online privacy \nB. Overview of the importance of online privacy \n\nII. Body \nA. The consequences of not protecting online privacy \nB. The importance of technological advancements in protecting online privacy \nC. The effectiveness of governments in ensuring online privacy\n\nIII. Conclusion \nA. A summary of the importance of online privacy \nB. The need for individuals and companies to work together to protect online privacy \nC. A call for greater awareness of online privacy\n\n\n## Speech Outline for Expressing Your Opinion on Online Privacy\n\n**I. Introduction**\n    - Definition of online privacy\n    - Overview of the importance of online privacy\n\n**II. Body**\n    - Consequences of not protecting online privacy"
      }
    }
  }
}