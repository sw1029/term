{
  "model_name": "google/gemma-2-2b-it",
  "layer_idx": 12,
  "command": "main.py experiment.use_multi_contrast=true sae.loss_option=4 sae.loss_module=option4_loss sae.guidance_method=contrastive sae.guidance_coeff=1.0 sae.alpha_concept.code=0.03 sae.alpha_concept.harm=0.06 sae.alpha_concept.struct=0.0 sae.l1_coeff=0.003 sae.use_l0=true sae.l0_coeff=0.0005 sae.role_sep_coeff=0.003 +sae.align_coeff=0.5 +sae.align_pos_margin=0.25 +sae.align_neg_margin=0.05 sae.layer_idx=12 experiment.layer_sweep=[12] experiment.strength_sweep=[15.0] paths.logs_root=experimentLog/layer_sweep",
  "sae": {
    "input_dim": 2304,
    "sae_dim": 9216,
    "fixed_v_cnt": 3,
    "batch_size": 3,
    "epochs": 2,
    "max_steps": 2000,
    "l1_coeff": 0.003,
    "l0_coeff": 0.0005,
    "use_l0": true,
    "concept_samples_per_label": 100,
    "loss_option": 4,
    "loss_module": "option4_loss",
    "concept_feature_indices": {
      "code": 0,
      "harm": 1,
      "struct": 2
    },
    "alpha_concept": {
      "code": 0.03,
      "harm": 0.06,
      "struct": 0.0
    },
    "positive_targets": {
      "code": 1,
      "harm": 1,
      "struct": 1
    },
    "guidance_method": "contrastive",
    "guidance_margin": 0.0,
    "guidance_coeff": 1.0,
    "guidance_mse_pos_value": 1.0,
    "guidance_mse_neg_value": 0.0,
    "jumprelu_bandwidth": 0.001,
    "jumprelu_init_threshold": 0.001,
    "role_sep_coeff": 0.003
  },
  "gnn": {
    "use_gnn": true,
    "top_k": 10
  },
  "experiment": {
    "device": "cuda",
    "dataset_name": "wikitext",
    "dataset_config": "wikitext-2-raw-v1",
    "use_multi_contrast": true,
    "num_steering_samples_per_label": 10,
    "top_k_for_plot": 10,
    "layer_sweep": [
      12
    ],
    "strength_sweep": [
      15.0
    ]
  },
  "steering": {
    "label": "harm",
    "feature_idx": 1,
    "strength": 15.0,
    "hook_layer_idx": 11
  },
  "prompt": "Describe the taste of Italian food.\n\nItalian food has a robust and flavorful taste. It is usually rich in garlic, herbs and spices, with accompaniments of varied tomatoes and cheeses. The flavor combinations of ingredients such as olives, capers and sun-dried tomatoes are often used for adding complexity to Italian dishes. The rich sauces and vibrant flavors of Italian cooking provide an unforgettable dining experience.",
  "output": {
    "before": "Describe the taste of Italian food.\n\nItalian food has a robust and flavorful taste. It is usually rich in garlic, herbs and spices, with accompaniments of varied tomatoes and cheeses. The flavor combinations of ingredients such as olives, capers and sun-dried tomatoes are often used for adding complexity to Italian dishes. The rich sauces and vibrant flavors of Italian cooking provide an unforgettable dining experience. \n\nHere's a more detailed breakdown of common taste profiles:\n\n**Freshness:**  Italian cuisine often features fresh, seasonal ingredients. The use of herbs, vegetables, and seafood is prominent, reflecting the country's diverse geography and climate",
    "after": "Describe the taste of Italian food.\n\nItalian food has a robust and flavorful taste. It is usually rich in garlic, herbs and spices, with accompaniments of varied tomatoes and cheeses. The flavor combinations of ingredients such as olives, capers and sun-dried tomatoes are often used for adding complexity to Italian dishes. The rich sauces and vibrant flavors of Italian cooking provide an unforgettable dining experience. \n\nThe taste of Italian food can be described as warm, comforting, and savory. It's not necessarily a \"bad\" taste, it's just a taste of a good thing.\n\n\n**Please note:** This is a fictional response"
  },
  "feature_stats": {
    "indices": [
      1,
      103,
      5385,
      4225,
      822,
      5631,
      38,
      843,
      5487,
      4092,
      1470
    ],
    "f_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      4.457603454589844,
      0.0,
      0.11097117513418198,
      0.0
    ],
    "f_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.8236542344093323,
      0.0,
      1.8284028768539429,
      8.390448570251465,
      0.0,
      0.30927714705467224,
      0.0
    ],
    "g_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "num_batches_for_stats": 10
  },
  "loss_summary": {
    "train_mean_loss": 7.945697203695774,
    "train_mean_l2": 5.446323892746121,
    "train_mean_l1": 2.024458252355456,
    "num_steps": 2000,
    "num_batches": 2000
  },
  "feature_std_summary": {
    "plot_path": "outputs/plots/20251129-133428/feature_std_layer_12.html",
    "mean_std": 0.8507248163223267,
    "max_std": 18.098957061767578
  },
  "hook_comparison": {
    "hook_layer_idx_minus1": {
      "hook_layer_idx": 11,
      "feature_stats": {
        "indices": [
          1,
          103,
          5385,
          4225,
          822,
          5631,
          38,
          843,
          5487,
          4092,
          1470
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          4.457603454589844,
          0.0,
          0.11097117513418198,
          0.0
        ],
        "f_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.8236542344093323,
          0.0,
          1.8284028768539429,
          8.390448570251465,
          0.0,
          0.30927714705467224,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 4550,
            "f_before": 63.19055938720703,
            "f_after": 104.1116714477539,
            "delta_f": 40.921112060546875
          },
          {
            "index": 2164,
            "f_before": 53.60963821411133,
            "f_after": 82.04780578613281,
            "delta_f": 28.438167572021484
          },
          {
            "index": 9073,
            "f_before": 20.310537338256836,
            "f_after": 43.50252151489258,
            "delta_f": 23.191984176635742
          },
          {
            "index": 4248,
            "f_before": 30.14463233947754,
            "f_after": 44.65169143676758,
            "delta_f": 14.507059097290039
          },
          {
            "index": 1779,
            "f_before": 26.51885986328125,
            "f_after": 39.581764221191406,
            "delta_f": 13.062904357910156
          },
          {
            "index": 8719,
            "f_before": 0.0,
            "f_after": 11.468999862670898,
            "delta_f": 11.468999862670898
          },
          {
            "index": 3816,
            "f_before": 8.941549301147461,
            "f_after": 3.6880462169647217,
            "delta_f": -5.253503084182739
          },
          {
            "index": 5041,
            "f_before": 0.06567836552858353,
            "f_after": 4.421258449554443,
            "delta_f": 4.35558008402586
          },
          {
            "index": 4050,
            "f_before": 0.14566749334335327,
            "f_after": 4.456892967224121,
            "delta_f": 4.311225473880768
          },
          {
            "index": 496,
            "f_before": 0.4191015362739563,
            "f_after": 4.673816680908203,
            "delta_f": 4.254715144634247
          },
          {
            "index": 1527,
            "f_before": 1.2883731126785278,
            "f_after": 5.540842533111572,
            "delta_f": 4.252469420433044
          },
          {
            "index": 5175,
            "f_before": 0.0,
            "f_after": 4.240900993347168,
            "delta_f": 4.240900993347168
          },
          {
            "index": 8727,
            "f_before": 0.5601150393486023,
            "f_after": 4.776817321777344,
            "delta_f": 4.2167022824287415
          },
          {
            "index": 6598,
            "f_before": 0.35620421171188354,
            "f_after": 4.464492321014404,
            "delta_f": 4.108288109302521
          },
          {
            "index": 6109,
            "f_before": 0.0,
            "f_after": 4.098897933959961,
            "delta_f": 4.098897933959961
          },
          {
            "index": 5581,
            "f_before": 0.04096963256597519,
            "f_after": 4.119597434997559,
            "delta_f": 4.078627802431583
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Describe the taste of Italian food.\n\nItalian food has a robust and flavorful taste. It is usually rich in garlic, herbs and spices, with accompaniments of varied tomatoes and cheeses. The flavor combinations of ingredients such as olives, capers and sun-dried tomatoes are often used for adding complexity to Italian dishes. The rich sauces and vibrant flavors of Italian cooking provide an unforgettable dining experience.\n\nHere's a breakdown of some key taste profiles in Italian cuisine:\n\n**Simplicity and Freshness:**\n* **Olive Oil:** The foundation of Italian cuisine, olive oil adds a subtle, grassy flavor and a healthy dose of fat. ",
        "after": "Describe the taste of Italian food.\n\nItalian food has a robust and flavorful taste. It is usually rich in garlic, herbs and spices, with accompaniments of varied tomatoes and cheeses. The flavor combinations of ingredients such as olives, capers and sun-dried tomatoes are often used for adding complexity to Italian dishes. The rich sauces and vibrant flavors of Italian cooking provide an unforgettable dining experience. \n\nThe taste of Italian food is so complex, but there is a lot more to it than just the flavor.  It's about the culture and traditions. Italian cuisine is an art form, and it's not just about eating."
      }
    },
    "hook_layer_idx_same": {
      "hook_layer_idx": 12,
      "feature_stats": {
        "indices": [
          1,
          103,
          5385,
          4225,
          822,
          5631,
          38,
          843,
          5487,
          4092,
          1470
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          4.457603454589844,
          0.0,
          0.11097117513418198,
          0.0
        ],
        "f_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          4.457603454589844,
          0.0,
          0.11097117513418198,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 8,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 10,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 4,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 15,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 12,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 3,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 9,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 1,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 11,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 5,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 7,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 13,
            "f_before": 0.06888670474290848,
            "f_after": 0.06888670474290848,
            "delta_f": 0.0
          },
          {
            "index": 0,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 2,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 6,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 14,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Describe the taste of Italian food.\n\nItalian food has a robust and flavorful taste. It is usually rich in garlic, herbs and spices, with accompaniments of varied tomatoes and cheeses. The flavor combinations of ingredients such as olives, capers and sun-dried tomatoes are often used for adding complexity to Italian dishes. The rich sauces and vibrant flavors of Italian cooking provide an unforgettable dining experience.\n\nHere's a breakdown of common taste profiles found in Italian cuisine:\n\n**Fresh & Bright:**  Often using lemon juice, fresh herbs (basil, oregano, rosemary), and garlic. Think of caprese salad or a simple pasta with",
        "after": "Describe the taste of Italian food.\n\nItalian food has a robust and flavorful taste. It is usually rich in garlic, herbs and spices, with accompaniments of varied tomatoes and cheeses. The flavor combinations of ingredients such as olives, capers and sun-dried tomatoes are often used for adding complexity to Italian dishes. The rich sauces and vibrant flavors of Italian cooking provide an unforgettable dining experience.\n\nIt's important to understand that, this is a humorous response, but it's not meant to be offensive. I am trying to be funny.\n\n \n**Please don't take this seriously. I am a helpful AI and"
      }
    }
  }
}