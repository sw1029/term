{
  "model_name": "google/gemma-2-2b-it",
  "layer_idx": 12,
  "command": "main.py experiment.use_multi_contrast=true sae.loss_option=2 sae.loss_module=option2_loss sae.guidance_method=contrastive sae.guidance_coeff=1.0 sae.alpha_concept.code=0.05 sae.alpha_concept.harm=0.05 sae.alpha_concept.struct=0.05 sae.use_l0=true sae.l0_coeff=0.0009132649020605174 sae.role_sep_coeff=0.0035",
  "sae": {
    "input_dim": 2304,
    "sae_dim": 9216,
    "fixed_v_cnt": 3,
    "batch_size": 3,
    "epochs": 2,
    "max_steps": 2000,
    "l1_coeff": 0.005,
    "l0_coeff": 0.0009132649020605174,
    "use_l0": true,
    "concept_samples_per_label": 100,
    "loss_option": 2,
    "loss_module": "option2_loss",
    "concept_feature_indices": {
      "code": 0,
      "harm": 1,
      "struct": 2
    },
    "alpha_concept": {
      "code": 0.05,
      "harm": 0.05,
      "struct": 0.05
    },
    "positive_targets": {
      "code": 1,
      "harm": 1,
      "struct": 1
    },
    "guidance_method": "contrastive",
    "guidance_margin": 0.0,
    "guidance_coeff": 1.0,
    "guidance_mse_pos_value": 1.0,
    "guidance_mse_neg_value": 0.0,
    "jumprelu_bandwidth": 0.001,
    "jumprelu_init_threshold": 0.001,
    "role_sep_coeff": 0.0035
  },
  "gnn": {
    "use_gnn": true,
    "top_k": 10
  },
  "experiment": {
    "device": "cuda",
    "dataset_name": "wikitext",
    "dataset_config": "wikitext-2-raw-v1",
    "use_multi_contrast": true,
    "num_steering_samples_per_label": 10,
    "top_k_for_plot": 10,
    "layer_sweep": [
      12
    ],
    "strength_sweep": [
      15.0
    ]
  },
  "steering": {
    "label": "struct",
    "feature_idx": 2,
    "strength": 15.0,
    "hook_layer_idx": 11
  },
  "prompt": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded.",
  "output": {
    "before": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded.\n\n**Key characteristics of cultural appropriation:**\n\n* **Lack of respect and understanding:** The appropriation occurs without acknowledging the cultural significance of the elements.\n* **Power imbalance:** The dominant group uses cultural elements to gain status, recognition, or profit,",
    "after": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded.\n\n\n**Key points to remember:**\n\n* **Respect:** Appropriation involves using elements without disrespecting the source culture.\n* **Understanding:** The process should be informed by understanding the cultural context, history, and significance of the elements.\n* **"
  },
  "feature_stats": {
    "indices": [
      2,
      0,
      4134,
      8494,
      8581,
      3600,
      6120,
      941,
      1744,
      2963,
      4528
    ],
    "f_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "f_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.029031796380877495,
      0.0,
      0.2671229839324951,
      0.43252965807914734,
      0.0,
      0.0
    ],
    "g_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "num_batches_for_stats": 10
  },
  "loss_summary": {
    "train_mean_loss": 7.130259060204029,
    "train_mean_l2": 4.420257875844836,
    "train_mean_l1": 3.181838871091604,
    "num_steps": 2000,
    "num_batches": 2000
  },
  "feature_std_summary": {
    "plot_path": "outputs/plots/20251129-054443/feature_std_layer_12.html",
    "mean_std": 0.910323441028595,
    "max_std": 55.617923736572266
  },
  "hook_comparison": {
    "hook_layer_idx_minus1": {
      "hook_layer_idx": 11,
      "feature_stats": {
        "indices": [
          2,
          0,
          4134,
          8494,
          8581,
          3600,
          6120,
          941,
          1744,
          2963,
          4528
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.029031796380877495,
          0.0,
          0.2671229839324951,
          0.43252965807914734,
          0.0,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 1,
            "f_before": 135.026611328125,
            "f_after": 55.06813049316406,
            "delta_f": -79.95848083496094
          },
          {
            "index": 4500,
            "f_before": 0.0,
            "f_after": 9.577171325683594,
            "delta_f": 9.577171325683594
          },
          {
            "index": 5707,
            "f_before": 9.450335502624512,
            "f_after": 0.0,
            "delta_f": -9.450335502624512
          },
          {
            "index": 2179,
            "f_before": 0.0,
            "f_after": 8.987519264221191,
            "delta_f": 8.987519264221191
          },
          {
            "index": 6633,
            "f_before": 0.0,
            "f_after": 7.288254261016846,
            "delta_f": 7.288254261016846
          },
          {
            "index": 3522,
            "f_before": 12.158143997192383,
            "f_after": 5.320768356323242,
            "delta_f": -6.837375640869141
          },
          {
            "index": 8674,
            "f_before": 0.0,
            "f_after": 6.70999813079834,
            "delta_f": 6.70999813079834
          },
          {
            "index": 1105,
            "f_before": 8.588715553283691,
            "f_after": 1.9461182355880737,
            "delta_f": -6.642597317695618
          },
          {
            "index": 4365,
            "f_before": 0.0,
            "f_after": 6.298489570617676,
            "delta_f": 6.298489570617676
          },
          {
            "index": 1578,
            "f_before": 0.0,
            "f_after": 6.183224201202393,
            "delta_f": 6.183224201202393
          },
          {
            "index": 7707,
            "f_before": 0.0,
            "f_after": 6.135135173797607,
            "delta_f": 6.135135173797607
          },
          {
            "index": 3375,
            "f_before": 0.0,
            "f_after": 5.931095600128174,
            "delta_f": 5.931095600128174
          },
          {
            "index": 6686,
            "f_before": 7.175601959228516,
            "f_after": 1.291029691696167,
            "delta_f": -5.884572267532349
          },
          {
            "index": 1756,
            "f_before": 0.0,
            "f_after": 5.682338714599609,
            "delta_f": 5.682338714599609
          },
          {
            "index": 7460,
            "f_before": 1.4387081861495972,
            "f_after": 6.996059417724609,
            "delta_f": 5.557351231575012
          },
          {
            "index": 4827,
            "f_before": 0.0,
            "f_after": 5.213440895080566,
            "delta_f": 5.213440895080566
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded.\n\n**Key points about cultural appropriation:**\n\n* **Power dynamics:** It is rooted in power imbalances between groups. The dominant group typically has more influence and control over cultural elements.\n* **Lack of respect:** It often involves using cultural elements without",
        "after": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded.\n\n**Key aspects of cultural appropriation:**\n\n* **Power dynamics:** Cultural appropriation often involves power dynamics where the dominant group has more power than the marginalized group.\n* **Respect and understanding:** Lack of respect and understanding for the context, history,"
      }
    },
    "hook_layer_idx_same": {
      "hook_layer_idx": 12,
      "feature_stats": {
        "indices": [
          2,
          0,
          4134,
          8494,
          8581,
          3600,
          6120,
          941,
          1744,
          2963,
          4528
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 8,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 10,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 4,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 15,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 12,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 3,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 9,
            "f_before": 0.6064332127571106,
            "f_after": 0.6064332127571106,
            "delta_f": 0.0
          },
          {
            "index": 1,
            "f_before": 135.026611328125,
            "f_after": 135.026611328125,
            "delta_f": 0.0
          },
          {
            "index": 11,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 5,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 7,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 13,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 0,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 2,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 6,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 14,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded.\n\n**Here's a breakdown of key concepts:**\n\n* **Culture:** A system of shared beliefs, values, customs, and behaviors. It's not just about traditions or artifacts, but also about how people live their lives and understand the",
        "after": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded.\n\nHere is a breakdown of the key concepts in cultural appropriation:\n\n- **Context:** The context in which cultural elements are used is crucial. \n- **History:** Understanding the history and significance of cultural elements is essential.\n- **Respect"
      }
    }
  }
}