{
  "model_name": "google/gemma-2-2b-it",
  "layer_idx": 12,
  "command": "main.py experiment.use_multi_contrast=true sae.loss_option=2 sae.loss_module=option2_loss sae.guidance_method=contrastive sae.guidance_coeff=1.0 sae.alpha_concept.code=0.05 sae.alpha_concept.harm=0.05 sae.alpha_concept.struct=0.05 sae.use_l0=true sae.l0_coeff=0.0009132649020605174 sae.role_sep_coeff=0.0035",
  "sae": {
    "input_dim": 2304,
    "sae_dim": 9216,
    "fixed_v_cnt": 3,
    "batch_size": 3,
    "epochs": 2,
    "max_steps": 2000,
    "l1_coeff": 0.005,
    "l0_coeff": 0.0009132649020605174,
    "use_l0": true,
    "concept_samples_per_label": 100,
    "loss_option": 2,
    "loss_module": "option2_loss",
    "concept_feature_indices": {
      "code": 0,
      "harm": 1,
      "struct": 2
    },
    "alpha_concept": {
      "code": 0.05,
      "harm": 0.05,
      "struct": 0.05
    },
    "positive_targets": {
      "code": 1,
      "harm": 1,
      "struct": 1
    },
    "guidance_method": "contrastive",
    "guidance_margin": 0.0,
    "guidance_coeff": 1.0,
    "guidance_mse_pos_value": 1.0,
    "guidance_mse_neg_value": 0.0,
    "jumprelu_bandwidth": 0.001,
    "jumprelu_init_threshold": 0.001,
    "role_sep_coeff": 0.0035
  },
  "gnn": {
    "use_gnn": true,
    "top_k": 10
  },
  "experiment": {
    "device": "cuda",
    "dataset_name": "wikitext",
    "dataset_config": "wikitext-2-raw-v1",
    "use_multi_contrast": true,
    "num_steering_samples_per_label": 10,
    "top_k_for_plot": 10,
    "layer_sweep": [
      12
    ],
    "strength_sweep": [
      15.0
    ]
  },
  "steering": {
    "label": "code",
    "feature_idx": 0,
    "strength": 15.0,
    "hook_layer_idx": 11
  },
  "prompt": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded.",
  "output": {
    "before": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded.\n\n**Key aspects of cultural appropriation:**\n\n* **Power imbalance:** The appropriation often occurs between a dominant group and a marginalized group, where the dominant group has more power and control over the resources and knowledge of the marginalized group.\n* **Lack",
    "after": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded.\n\n\n**Here are some examples:**\n\n* **Wearing a traditional costume without proper context:** This can be considered disrespectful.\n* **Using a sacred symbol without permission:** This can be considered disrespectful.\n* **Profiting from cultural elements without attribution"
  },
  "feature_stats": {
    "indices": [
      0,
      2,
      8581,
      2719,
      1543,
      3600,
      1116,
      4868,
      6660,
      4165,
      941
    ],
    "f_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "f_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.28159135580062866,
      0.0,
      0.0,
      0.0,
      0.0,
      1.1435766220092773
    ],
    "g_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "num_batches_for_stats": 10
  },
  "loss_summary": {
    "train_mean_loss": 7.130259060204029,
    "train_mean_l2": 4.420257875844836,
    "train_mean_l1": 3.181838871091604,
    "num_steps": 2000,
    "num_batches": 2000
  },
  "feature_std_summary": {
    "plot_path": "outputs/plots/20251129-054443/feature_std_layer_12.html",
    "mean_std": 0.910323441028595,
    "max_std": 55.617923736572266
  },
  "hook_comparison": {
    "hook_layer_idx_minus1": {
      "hook_layer_idx": 11,
      "feature_stats": {
        "indices": [
          0,
          2,
          8581,
          2719,
          1543,
          3600,
          1116,
          4868,
          6660,
          4165,
          941
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.28159135580062866,
          0.0,
          0.0,
          0.0,
          0.0,
          1.1435766220092773
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 1,
            "f_before": 135.026611328125,
            "f_after": 59.2176513671875,
            "delta_f": -75.8089599609375
          },
          {
            "index": 5593,
            "f_before": 34.31292724609375,
            "f_after": 47.70670700073242,
            "delta_f": 13.393779754638672
          },
          {
            "index": 4500,
            "f_before": 0.0,
            "f_after": 10.116673469543457,
            "delta_f": 10.116673469543457
          },
          {
            "index": 5707,
            "f_before": 9.450335502624512,
            "f_after": 0.0,
            "delta_f": -9.450335502624512
          },
          {
            "index": 3522,
            "f_before": 12.158143997192383,
            "f_after": 3.071770668029785,
            "delta_f": -9.086373329162598
          },
          {
            "index": 2179,
            "f_before": 0.0,
            "f_after": 8.993782043457031,
            "delta_f": 8.993782043457031
          },
          {
            "index": 1105,
            "f_before": 8.588715553283691,
            "f_after": 0.22136801481246948,
            "delta_f": -8.367347538471222
          },
          {
            "index": 6633,
            "f_before": 0.0,
            "f_after": 7.669918537139893,
            "delta_f": 7.669918537139893
          },
          {
            "index": 8674,
            "f_before": 0.0,
            "f_after": 7.017107009887695,
            "delta_f": 7.017107009887695
          },
          {
            "index": 3375,
            "f_before": 0.0,
            "f_after": 6.569676876068115,
            "delta_f": 6.569676876068115
          },
          {
            "index": 3116,
            "f_before": 11.92148208618164,
            "f_after": 5.606947898864746,
            "delta_f": -6.3145341873168945
          },
          {
            "index": 6686,
            "f_before": 7.175601959228516,
            "f_after": 1.0622450113296509,
            "delta_f": -6.113356947898865
          },
          {
            "index": 1756,
            "f_before": 0.0,
            "f_after": 6.000825881958008,
            "delta_f": 6.000825881958008
          },
          {
            "index": 7707,
            "f_before": 0.0,
            "f_after": 5.9171600341796875,
            "delta_f": 5.9171600341796875
          },
          {
            "index": 1578,
            "f_before": 0.0,
            "f_after": 5.875076770782471,
            "delta_f": 5.875076770782471
          },
          {
            "index": 2953,
            "f_before": 0.0,
            "f_after": 5.7811126708984375,
            "delta_f": 5.7811126708984375
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded. \n\n**Key aspects of cultural appropriation:**\n\n* **Power imbalance:** The act of appropriating culture typically occurs between a dominant group and a marginalized group.\n* **Lack of respect and understanding:** The dominant group may not have the knowledge,",
        "after": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded.\n\nHere are some examples of cultural appropriation:\n\n* Using sacred symbols from another culture without permission or understanding.\n* Using traditional clothing or dance forms without acknowledging the cultural context.\n* Adopting cultural practices for entertainment or novelty without considering the cultural"
      }
    },
    "hook_layer_idx_same": {
      "hook_layer_idx": 12,
      "feature_stats": {
        "indices": [
          0,
          2,
          8581,
          2719,
          1543,
          3600,
          1116,
          4868,
          6660,
          4165,
          941
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 8,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 10,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 4,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 15,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 12,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 3,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 9,
            "f_before": 0.6064332127571106,
            "f_after": 0.6064332127571106,
            "delta_f": 0.0
          },
          {
            "index": 1,
            "f_before": 135.026611328125,
            "f_after": 135.026611328125,
            "delta_f": 0.0
          },
          {
            "index": 11,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 5,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 7,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 13,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 0,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 2,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 6,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 14,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded. \n\n**Key aspects of cultural appropriation:**\n\n* **Lack of respect and understanding:** The act of appropriation occurs without acknowledging the history, significance, and context of the elements being used.\n* **Power imbalance:** The dominant culture often has more",
        "after": "Explain the term 'cultural appropriation'.\n\nCultural appropriation is the process of taking elements of a culture which is not one’s own and using them in a way which lacks respect and understanding for the context, history, and significance of those elements. It often happens when a dominant group adopts elements of a marginalized group’s culture. This can be seen in fashion, music, cuisine, language, and other aspects of culture. Such appropriation typically results in the devaluation of the culture or cultural elements being appropriated, as they are often seen as trendy, while the people who created them are still marginalised and excluded. \n\nIt is important to note that cultural appropriation is not limited to specific contexts. It can be a complex issue that involves a wide range of factors.\n \n**Here's a breakdown of the key concepts:**\n\n* **Culture:**"
      }
    }
  }
}