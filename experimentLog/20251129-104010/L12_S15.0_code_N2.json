{
  "model_name": "google/gemma-2-2b-it",
  "layer_idx": 12,
  "command": "main.py experiment.use_multi_contrast=true sae.loss_option=4 sae.loss_module=option4_loss sae.guidance_method=contrastive sae.guidance_coeff=1.0 sae.alpha_concept.code=0.05 sae.alpha_concept.harm=0.05 sae.alpha_concept.struct=0.05 sae.l1_coeff=0.003 sae.use_l0=true sae.l0_coeff=0.0005 sae.role_sep_coeff=0.0035 +sae.align_coeff=0.25",
  "sae": {
    "input_dim": 2304,
    "sae_dim": 9216,
    "fixed_v_cnt": 3,
    "batch_size": 3,
    "epochs": 2,
    "max_steps": 2000,
    "l1_coeff": 0.003,
    "l0_coeff": 0.0005,
    "use_l0": true,
    "concept_samples_per_label": 100,
    "loss_option": 4,
    "loss_module": "option4_loss",
    "concept_feature_indices": {
      "code": 0,
      "harm": 1,
      "struct": 2
    },
    "alpha_concept": {
      "code": 0.05,
      "harm": 0.05,
      "struct": 0.05
    },
    "positive_targets": {
      "code": 1,
      "harm": 1,
      "struct": 1
    },
    "guidance_method": "contrastive",
    "guidance_margin": 0.0,
    "guidance_coeff": 1.0,
    "guidance_mse_pos_value": 1.0,
    "guidance_mse_neg_value": 0.0,
    "jumprelu_bandwidth": 0.001,
    "jumprelu_init_threshold": 0.001,
    "role_sep_coeff": 0.0035
  },
  "gnn": {
    "use_gnn": true,
    "top_k": 10
  },
  "experiment": {
    "device": "cuda",
    "dataset_name": "wikitext",
    "dataset_config": "wikitext-2-raw-v1",
    "use_multi_contrast": true,
    "num_steering_samples_per_label": 10,
    "top_k_for_plot": 10,
    "layer_sweep": [
      12
    ],
    "strength_sweep": [
      15.0
    ]
  },
  "steering": {
    "label": "code",
    "feature_idx": 0,
    "strength": 15.0,
    "hook_layer_idx": 11
  },
  "prompt": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.",
  "output": {
    "before": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\n\n**Elements of a Pie Chart:**\n\n1. **Pie:** The central circular shape represents the whole data set. \n2. **Sections (Sectors):** Each slice of the pie represents a specific category of data. The size of each",
    "after": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\nHere is a breakdown of the elements:\n\n* **pie:** The pie represents the entire data set.\n* **title:** The title provides a descriptive label for the chart.\n* **categories:** The categories define the data segments.\n"
  },
  "feature_stats": {
    "indices": [
      0,
      2,
      2233,
      6843,
      213,
      1575,
      1956,
      8937,
      447,
      3499,
      1082
    ],
    "f_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.14457090198993683,
      0.0,
      0.08207502961158752,
      0.24062591791152954
    ],
    "f_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.21841640770435333,
      0.0,
      0.0,
      0.0,
      1.2053145170211792
    ],
    "g_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "num_batches_for_stats": 10
  },
  "loss_summary": {
    "train_mean_loss": 8.398415238529443,
    "train_mean_l2": 5.456277021747082,
    "train_mean_l1": 2.435541332542896,
    "num_steps": 2000,
    "num_batches": 2000
  },
  "feature_std_summary": {
    "plot_path": "outputs/plots/20251129-104010/feature_std_layer_12.html",
    "mean_std": 0.8308307528495789,
    "max_std": 22.659034729003906
  },
  "hook_comparison": {
    "hook_layer_idx_minus1": {
      "hook_layer_idx": 11,
      "feature_stats": {
        "indices": [
          0,
          2,
          2233,
          6843,
          213,
          1575,
          1956,
          8937,
          447,
          3499,
          1082
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.14457090198993683,
          0.0,
          0.08207502961158752,
          0.24062591791152954
        ],
        "f_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.21841640770435333,
          0.0,
          0.0,
          0.0,
          1.2053145170211792
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 4560,
            "f_before": 35.55091094970703,
            "f_after": 0.0,
            "delta_f": -35.55091094970703
          },
          {
            "index": 6454,
            "f_before": 90.0964584350586,
            "f_after": 67.02706909179688,
            "delta_f": -23.06938934326172
          },
          {
            "index": 5652,
            "f_before": 16.567703247070312,
            "f_after": 25.70279884338379,
            "delta_f": 9.135095596313477
          },
          {
            "index": 135,
            "f_before": 0.0,
            "f_after": 8.003771781921387,
            "delta_f": 8.003771781921387
          },
          {
            "index": 8746,
            "f_before": 0.0,
            "f_after": 7.96894645690918,
            "delta_f": 7.96894645690918
          },
          {
            "index": 9119,
            "f_before": 0.0,
            "f_after": 7.674044609069824,
            "delta_f": 7.674044609069824
          },
          {
            "index": 8638,
            "f_before": 23.289575576782227,
            "f_after": 30.688779830932617,
            "delta_f": 7.399204254150391
          },
          {
            "index": 9113,
            "f_before": 0.0,
            "f_after": 7.284327030181885,
            "delta_f": 7.284327030181885
          },
          {
            "index": 3466,
            "f_before": 0.0,
            "f_after": 7.135836601257324,
            "delta_f": 7.135836601257324
          },
          {
            "index": 4522,
            "f_before": 0.0,
            "f_after": 7.08131217956543,
            "delta_f": 7.08131217956543
          },
          {
            "index": 2374,
            "f_before": 0.0,
            "f_after": 7.006673812866211,
            "delta_f": 7.006673812866211
          },
          {
            "index": 7138,
            "f_before": 0.0,
            "f_after": 6.4017157554626465,
            "delta_f": 6.4017157554626465
          },
          {
            "index": 2858,
            "f_before": 0.0,
            "f_after": 6.116624355316162,
            "delta_f": 6.116624355316162
          },
          {
            "index": 5060,
            "f_before": 0.0,
            "f_after": 5.980034351348877,
            "delta_f": 5.980034351348877
          },
          {
            "index": 578,
            "f_before": 0.0,
            "f_after": 5.944430351257324,
            "delta_f": 5.944430351257324
          },
          {
            "index": 4074,
            "f_before": 0.0,
            "f_after": 5.875354290008545,
            "delta_f": 5.875354290008545
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data. \n\nHere's a breakdown of each element:\n\n**1. The Pie:**\n   - The pie represents the whole, and the slices represent the different categories. \n   - The size of each slice corresponds to the proportion of the",
        "after": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\n**Elements:**\n\n* **Pie:** The pie is the central part of the chart.\n* **Title:** The title provides a brief description of the data.\n* **Categories:** The categories represent the different data values.\n* **"
      }
    },
    "hook_layer_idx_same": {
      "hook_layer_idx": 12,
      "feature_stats": {
        "indices": [
          0,
          2,
          2233,
          6843,
          213,
          1575,
          1956,
          8937,
          447,
          3499,
          1082
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.14457090198993683,
          0.0,
          0.08207502961158752,
          0.24062591791152954
        ],
        "f_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.14457090198993683,
          0.0,
          0.08207502961158752,
          0.24062591791152954
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 8,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 10,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 4,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 15,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 12,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 3,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 9,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 1,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 11,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 5,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 7,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 13,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 0,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 2,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 6,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 14,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\nHere's a breakdown of the elements:\n\n* **Pie:** The main part of the chart, a circle divided into segments.\n* **Title:**  A clear and concise label describing the data being presented.\n* **Categories:**",
        "after": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\n\nLet me know if you have any other questions\n"
      }
    }
  }
}