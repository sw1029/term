{
  "model_name": "google/gemma-2-2b-it",
  "layer_idx": 12,
  "command": "main.py experiment.use_multi_contrast=true sae.loss_option=4 sae.loss_module=option4_loss sae.guidance_method=contrastive sae.guidance_coeff=1.0 sae.alpha_concept.code=0.05 sae.alpha_concept.harm=0.05 sae.alpha_concept.struct=0.05 sae.l1_coeff=0.003 sae.use_l0=true sae.l0_coeff=0.0005 sae.role_sep_coeff=0.0035 +sae.align_coeff=0.25",
  "sae": {
    "input_dim": 2304,
    "sae_dim": 9216,
    "fixed_v_cnt": 3,
    "batch_size": 3,
    "epochs": 2,
    "max_steps": 2000,
    "l1_coeff": 0.003,
    "l0_coeff": 0.0005,
    "use_l0": true,
    "concept_samples_per_label": 100,
    "loss_option": 4,
    "loss_module": "option4_loss",
    "concept_feature_indices": {
      "code": 0,
      "harm": 1,
      "struct": 2
    },
    "alpha_concept": {
      "code": 0.05,
      "harm": 0.05,
      "struct": 0.05
    },
    "positive_targets": {
      "code": 1,
      "harm": 1,
      "struct": 1
    },
    "guidance_method": "contrastive",
    "guidance_margin": 0.0,
    "guidance_coeff": 1.0,
    "guidance_mse_pos_value": 1.0,
    "guidance_mse_neg_value": 0.0,
    "jumprelu_bandwidth": 0.001,
    "jumprelu_init_threshold": 0.001,
    "role_sep_coeff": 0.0035
  },
  "gnn": {
    "use_gnn": true,
    "top_k": 10
  },
  "experiment": {
    "device": "cuda",
    "dataset_name": "wikitext",
    "dataset_config": "wikitext-2-raw-v1",
    "use_multi_contrast": true,
    "num_steering_samples_per_label": 10,
    "top_k_for_plot": 10,
    "layer_sweep": [
      12
    ],
    "strength_sweep": [
      15.0
    ]
  },
  "steering": {
    "label": "harm",
    "feature_idx": 1,
    "strength": 15.0,
    "hook_layer_idx": 11
  },
  "prompt": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.",
  "output": {
    "before": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\n\n**Elements of a Pie Chart:**\n\n* **Pie:** The main element of the chart is the circle, representing the whole data.\n* **Labels:** Each segment of the pie is labeled with a category name or label.\n* **",
    "after": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\n\nHere's a breakdown of the elements of a pie chart:\n\n* **The pie itself:**  The pie chart is a visual representation of a circle, but the shape of the circle is what matters. The center of the circle is the"
  },
  "feature_stats": {
    "indices": [
      1,
      3603,
      9183,
      7604,
      599,
      2578,
      1400,
      5554,
      4781,
      9083,
      1812
    ],
    "f_before": [
      0.0,
      5.242518901824951,
      0.27383607625961304,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.9450545310974121,
      0.0
    ],
    "f_after": [
      0.0,
      6.5767364501953125,
      0.45962050557136536,
      1.8923596143722534,
      0.0,
      1.7048181295394897,
      0.0,
      0.0,
      0.37690579891204834,
      2.958693265914917,
      0.0
    ],
    "g_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "num_batches_for_stats": 10
  },
  "loss_summary": {
    "train_mean_loss": 8.398415238529443,
    "train_mean_l2": 5.456277021747082,
    "train_mean_l1": 2.435541332542896,
    "num_steps": 2000,
    "num_batches": 2000
  },
  "feature_std_summary": {
    "plot_path": "outputs/plots/20251129-104010/feature_std_layer_12.html",
    "mean_std": 0.8308307528495789,
    "max_std": 22.659034729003906
  },
  "hook_comparison": {
    "hook_layer_idx_minus1": {
      "hook_layer_idx": 11,
      "feature_stats": {
        "indices": [
          1,
          3603,
          9183,
          7604,
          599,
          2578,
          1400,
          5554,
          4781,
          9083,
          1812
        ],
        "f_before": [
          0.0,
          5.242518901824951,
          0.27383607625961304,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.9450545310974121,
          0.0
        ],
        "f_after": [
          0.0,
          6.5767364501953125,
          0.45962050557136536,
          1.8923596143722534,
          0.0,
          1.7048181295394897,
          0.0,
          0.0,
          0.37690579891204834,
          2.958693265914917,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 6454,
            "f_before": 90.0964584350586,
            "f_after": 139.8424072265625,
            "delta_f": 49.745948791503906
          },
          {
            "index": 4560,
            "f_before": 35.55091094970703,
            "f_after": 68.08330535888672,
            "delta_f": 32.53239440917969
          },
          {
            "index": 5364,
            "f_before": 0.0,
            "f_after": 15.773344993591309,
            "delta_f": 15.773344993591309
          },
          {
            "index": 8638,
            "f_before": 23.289575576782227,
            "f_after": 37.86272430419922,
            "delta_f": 14.573148727416992
          },
          {
            "index": 9100,
            "f_before": 0.0,
            "f_after": 8.207671165466309,
            "delta_f": 8.207671165466309
          },
          {
            "index": 5652,
            "f_before": 16.567703247070312,
            "f_after": 24.39859390258789,
            "delta_f": 7.830890655517578
          },
          {
            "index": 464,
            "f_before": 0.0,
            "f_after": 7.326328277587891,
            "delta_f": 7.326328277587891
          },
          {
            "index": 7561,
            "f_before": 0.0,
            "f_after": 6.783635139465332,
            "delta_f": 6.783635139465332
          },
          {
            "index": 2256,
            "f_before": 0.0,
            "f_after": 5.139461517333984,
            "delta_f": 5.139461517333984
          },
          {
            "index": 1182,
            "f_before": 0.5497158169746399,
            "f_after": 5.192559242248535,
            "delta_f": 4.642843425273895
          },
          {
            "index": 6909,
            "f_before": 0.7195432782173157,
            "f_after": 5.170472621917725,
            "delta_f": 4.450929343700409
          },
          {
            "index": 4428,
            "f_before": 0.0,
            "f_after": 4.267591953277588,
            "delta_f": 4.267591953277588
          },
          {
            "index": 1942,
            "f_before": 0.0,
            "f_after": 4.212453365325928,
            "delta_f": 4.212453365325928
          },
          {
            "index": 3964,
            "f_before": 0.0,
            "f_after": 4.194960594177246,
            "delta_f": 4.194960594177246
          },
          {
            "index": 4332,
            "f_before": 0.0,
            "f_after": 4.153372287750244,
            "delta_f": 4.153372287750244
          },
          {
            "index": 5100,
            "f_before": 0.0,
            "f_after": 4.150712966918945,
            "delta_f": 4.150712966918945
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\n**Here's a breakdown of the elements:**\n\n* **Pie:** The entire circle that represents the whole data set. \n* **Title:**  A short label describing the chart's subject. \n* **Categories:** These",
        "after": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\n\nHere are some elements of a pie chart:\n\n* **The pie itself**:  It's a circle with a hole in it.\n* **The title**:  The title is usually the name of the data being measured.\n*"
      }
    },
    "hook_layer_idx_same": {
      "hook_layer_idx": 12,
      "feature_stats": {
        "indices": [
          1,
          3603,
          9183,
          7604,
          599,
          2578,
          1400,
          5554,
          4781,
          9083,
          1812
        ],
        "f_before": [
          0.0,
          5.242518901824951,
          0.27383607625961304,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.9450545310974121,
          0.0
        ],
        "f_after": [
          0.0,
          5.242518901824951,
          0.27383607625961304,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.9450545310974121,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 8,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 10,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 4,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 15,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 12,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 3,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 9,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 1,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 11,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 5,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 7,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 13,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 0,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 2,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 6,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 14,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data. \n\nHere's a more detailed breakdown:\n\n**1. Pie Chart:** \n   - The central component of the chart. It's a circular shape divided into segments, each representing a specific category.\n\n**2. Data Segments",
        "after": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data. \n\n\n**Here are some elements that are usually included in a pie chart:**\n\n* **The pie itself:** This is the central part of the chart, representing the circle. \n* **The title:** This is the name of the subject"
      }
    }
  }
}