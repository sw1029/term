{
  "model_name": "google/gemma-2-2b-it",
  "layer_idx": 12,
  "command": "main.py experiment.use_multi_contrast=true sae.loss_option=4 sae.loss_module=option4_loss sae.guidance_method=contrastive sae.guidance_coeff=1.0 sae.alpha_concept.code=0.05 sae.alpha_concept.harm=0.05 sae.alpha_concept.struct=0.05 sae.l1_coeff=0.003 sae.use_l0=true sae.l0_coeff=0.0005 sae.role_sep_coeff=0.0035 +sae.align_coeff=0.25",
  "sae": {
    "input_dim": 2304,
    "sae_dim": 9216,
    "fixed_v_cnt": 3,
    "batch_size": 3,
    "epochs": 2,
    "max_steps": 2000,
    "l1_coeff": 0.003,
    "l0_coeff": 0.0005,
    "use_l0": true,
    "concept_samples_per_label": 100,
    "loss_option": 4,
    "loss_module": "option4_loss",
    "concept_feature_indices": {
      "code": 0,
      "harm": 1,
      "struct": 2
    },
    "alpha_concept": {
      "code": 0.05,
      "harm": 0.05,
      "struct": 0.05
    },
    "positive_targets": {
      "code": 1,
      "harm": 1,
      "struct": 1
    },
    "guidance_method": "contrastive",
    "guidance_margin": 0.0,
    "guidance_coeff": 1.0,
    "guidance_mse_pos_value": 1.0,
    "guidance_mse_neg_value": 0.0,
    "jumprelu_bandwidth": 0.001,
    "jumprelu_init_threshold": 0.001,
    "role_sep_coeff": 0.0035
  },
  "gnn": {
    "use_gnn": true,
    "top_k": 10
  },
  "experiment": {
    "device": "cuda",
    "dataset_name": "wikitext",
    "dataset_config": "wikitext-2-raw-v1",
    "use_multi_contrast": true,
    "num_steering_samples_per_label": 10,
    "top_k_for_plot": 10,
    "layer_sweep": [
      12
    ],
    "strength_sweep": [
      15.0
    ]
  },
  "steering": {
    "label": "struct",
    "feature_idx": 2,
    "strength": 15.0,
    "hook_layer_idx": 11
  },
  "prompt": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.",
  "output": {
    "before": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\n**Elements of a pie chart:**\n\n* **Circle:** The circle represents the whole, encompassing all the data being displayed.\n* **Sectors:** The segments of the circle are called sectors and each sector represents a different category. \n*",
    "after": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\nHere's a breakdown of the elements:\n\n* **Pie:** The core of the pie chart, a circular shape representing the whole.\n* **Title:** A descriptive title, explaining the purpose of the chart.\n* **Categories:**"
  },
  "feature_stats": {
    "indices": [
      2,
      0,
      5917,
      7853,
      8937,
      6843,
      1276,
      213,
      8313,
      5462,
      927
    ],
    "f_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.14457090198993683,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "f_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      2.7991926670074463,
      0.1753297746181488,
      0.0,
      0.0,
      0.0
    ],
    "g_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "num_batches_for_stats": 10
  },
  "loss_summary": {
    "train_mean_loss": 8.398415238529443,
    "train_mean_l2": 5.456277021747082,
    "train_mean_l1": 2.435541332542896,
    "num_steps": 2000,
    "num_batches": 2000
  },
  "feature_std_summary": {
    "plot_path": "outputs/plots/20251129-104010/feature_std_layer_12.html",
    "mean_std": 0.8308307528495789,
    "max_std": 22.659034729003906
  },
  "hook_comparison": {
    "hook_layer_idx_minus1": {
      "hook_layer_idx": 11,
      "feature_stats": {
        "indices": [
          2,
          0,
          5917,
          7853,
          8937,
          6843,
          1276,
          213,
          8313,
          5462,
          927
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.14457090198993683,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          2.7991926670074463,
          0.1753297746181488,
          0.0,
          0.0,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 6454,
            "f_before": 90.0964584350586,
            "f_after": 61.019901275634766,
            "delta_f": -29.076557159423828
          },
          {
            "index": 4560,
            "f_before": 35.55091094970703,
            "f_after": 7.620006084442139,
            "delta_f": -27.930904865264893
          },
          {
            "index": 135,
            "f_before": 0.0,
            "f_after": 7.590213775634766,
            "delta_f": 7.590213775634766
          },
          {
            "index": 9119,
            "f_before": 0.0,
            "f_after": 7.461802959442139,
            "delta_f": 7.461802959442139
          },
          {
            "index": 8746,
            "f_before": 0.0,
            "f_after": 7.354526042938232,
            "delta_f": 7.354526042938232
          },
          {
            "index": 2374,
            "f_before": 0.0,
            "f_after": 7.101779460906982,
            "delta_f": 7.101779460906982
          },
          {
            "index": 4522,
            "f_before": 0.0,
            "f_after": 6.855109691619873,
            "delta_f": 6.855109691619873
          },
          {
            "index": 9113,
            "f_before": 0.0,
            "f_after": 6.580005168914795,
            "delta_f": 6.580005168914795
          },
          {
            "index": 3466,
            "f_before": 0.0,
            "f_after": 6.40262508392334,
            "delta_f": 6.40262508392334
          },
          {
            "index": 4074,
            "f_before": 0.0,
            "f_after": 6.1061272621154785,
            "delta_f": 6.1061272621154785
          },
          {
            "index": 7138,
            "f_before": 0.0,
            "f_after": 5.894592761993408,
            "delta_f": 5.894592761993408
          },
          {
            "index": 6882,
            "f_before": 0.0,
            "f_after": 5.855623722076416,
            "delta_f": 5.855623722076416
          },
          {
            "index": 578,
            "f_before": 0.0,
            "f_after": 5.792114734649658,
            "delta_f": 5.792114734649658
          },
          {
            "index": 5060,
            "f_before": 0.0,
            "f_after": 5.756316661834717,
            "delta_f": 5.756316661834717
          },
          {
            "index": 2858,
            "f_before": 0.0,
            "f_after": 5.737585544586182,
            "delta_f": 5.737585544586182
          },
          {
            "index": 1606,
            "f_before": 0.0,
            "f_after": 5.206532955169678,
            "delta_f": 5.206532955169678
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\n\n**Elements of a pie chart:**\n\n* **Pie:** The central part of the chart, representing the whole. It is typically a circle divided into segments.\n* **Title:**  A descriptive label that explains what the chart is about,",
        "after": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\nHere's a breakdown of the elements:\n\n**1. Pie itself:**\n    * **Data:** The actual data is stored within the pie itself.\n    * **Radius:** The radius of the pie determines the size of the slices"
      }
    },
    "hook_layer_idx_same": {
      "hook_layer_idx": 12,
      "feature_stats": {
        "indices": [
          2,
          0,
          5917,
          7853,
          8937,
          6843,
          1276,
          213,
          8313,
          5462,
          927
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.14457090198993683,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.14457090198993683,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 8,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 10,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 4,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 15,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 12,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 3,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 9,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 1,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 11,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 5,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 7,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 13,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 0,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 2,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 6,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 14,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data. \n\nHere is a breakdown of the key elements:\n\n* **The Pie:** The central part of the pie chart, representing the whole data set.\n* **The Title:** A concise and descriptive title that explains the purpose of the chart.",
        "after": "Describe the elements of a pie chart.\n\nA pie chart is a type of graph that displays data in sectors of a circle. It is used to compare the relative proportions of different categories of data, such as percentages or proportions. The elements of a pie chart include the pie itself which holds the data, the title which states what the chart is about, the categories which divide the data, and the legend which explains the colors and labels used for the categories. Pie charts are a useful way to quickly compare relative proportions of large amounts of data.\n\n\n**Explanation:**\n\n* **Pie itself:**  Represents the whole data set.\n* **Title:**  Provides a descriptive title for the chart.\n* **Categories:**  Divides the data into individual segments.\n* **Legend:**"
      }
    }
  }
}