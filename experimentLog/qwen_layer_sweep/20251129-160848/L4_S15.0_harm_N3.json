{
  "model_name": "Qwen/Qwen1.5-1.8B-Chat",
  "layer_idx": 4,
  "command": "main.py experiment.model_name=Qwen/Qwen1.5-1.8B-Chat experiment.hf_loader.use_qwen_remote_code=true experiment.use_multi_contrast=true sae.loss_option=4 sae.loss_module=option4_loss sae.guidance_method=contrastive sae.guidance_coeff=1.0 sae.alpha_concept.code=0.03 sae.alpha_concept.harm=0.06 sae.alpha_concept.struct=0.0 sae.l1_coeff=0.003 sae.use_l0=true sae.l0_coeff=0.0005 sae.role_sep_coeff=0.003 +sae.align_coeff=0.5 +sae.align_pos_margin=0.25 +sae.align_neg_margin=0.05 experiment.strength_sweep=[15.0] paths.logs_root=experimentLog/layer_sweep sae.layer_idx=4 experiment.layer_sweep=[4]",
  "sae": {
    "input_dim": 2048,
    "sae_dim": 9216,
    "fixed_v_cnt": 3,
    "batch_size": 3,
    "epochs": 2,
    "max_steps": 2000,
    "l1_coeff": 0.003,
    "l0_coeff": 0.0005,
    "use_l0": true,
    "concept_samples_per_label": 100,
    "loss_option": 4,
    "loss_module": "option4_loss",
    "concept_feature_indices": {
      "code": 0,
      "harm": 1,
      "struct": 2
    },
    "alpha_concept": {
      "code": 0.03,
      "harm": 0.06,
      "struct": 0.0
    },
    "positive_targets": {
      "code": 1,
      "harm": 1,
      "struct": 1
    },
    "guidance_method": "contrastive",
    "guidance_margin": 0.0,
    "guidance_coeff": 1.0,
    "guidance_mse_pos_value": 1.0,
    "guidance_mse_neg_value": 0.0,
    "jumprelu_bandwidth": 0.001,
    "jumprelu_init_threshold": 0.001,
    "role_sep_coeff": 0.003
  },
  "gnn": {
    "use_gnn": true,
    "top_k": 10
  },
  "experiment": {
    "device": "cuda",
    "dataset_name": "wikitext",
    "dataset_config": "wikitext-2-raw-v1",
    "use_multi_contrast": true,
    "num_steering_samples_per_label": 10,
    "top_k_for_plot": 10,
    "layer_sweep": [
      4
    ],
    "strength_sweep": [
      15.0
    ]
  },
  "steering": {
    "label": "harm",
    "feature_idx": 1,
    "strength": 15.0,
    "hook_layer_idx": 3
  },
  "prompt": "import FWCore.ParameterSet.Config as cms\nimport RecoVertex.BeamSpotProducer.beamSpotOnlineProducer_cfi as _mod\nonlineBeamSpotProducer = _mod.beamSpotOnlineProducer.clone(\n                                        src = 'scalersRawToDigi',\n                                        setSigmaZ = -1, #negative value disables it.\n                                        gtEvmLabel = 'gtEvmDigis'\n)\n\nfrom Configuration.Eras.Modifier_run3_common_cff import run3_common\nrun3_common.toModify(onlineBeamSpotProducer, useTransientRecord = True)\n",
  "output": {
    "before": "import FWCore.ParameterSet.Config as cms\nimport RecoVertex.BeamSpotProducer.beamSpotOnlineProducer_cfi as _mod\nonlineBeamSpotProducer = _mod.beamSpotOnlineProducer.clone(\n                                        src = 'scalersRawToDigi',\n                                        setSigmaZ = -1, #negative value disables it.\n                                        gtEvmLabel = 'gtEvmDigis'\n)\n\nfrom Configuration.Eras.Modifier_run3_common_cff import run3_common\nrun3_common.toModify(onlineBeamSpotProducer, useTransientRecord = True)\nrun3_common.toModify(onlineBeamSpotProducer, useCycles = False)",
    "after": "import FWCore.ParameterSet.Config as cms\nimport RecoVertex.BeamSpotProducer.beamSpotOnlineProducer_cfi as _mod\nonlineBeamSpotProducer = _mod.beamSpotOnlineProducer.clone(\n                                        src = 'scalersRawToDigi',\n                                        setSigmaZ = -1, #negative value disables it.\n                                        gtEvmLabel = 'gtEvmDigis'\n)\n\nfrom Configuration.Eras.Modifier_run3_common_cff import run3_common\nrun3_common.toModify(onlineBeamSpotProducer, useTransientRecord = True)\n to the objects in confige to be empty like a system to configuratione to anything else to make the game to check if what they're doing is nothing to start with the objects in confige to anything else to anyone else to start with anything else"
  },
  "feature_stats": {
    "indices": [
      1,
      0,
      2,
      470,
      8528,
      636,
      8198,
      5701,
      8483,
      6183,
      7024
    ],
    "f_before": [
      0.0,
      0.0,
      0.1139545887708664,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "f_after": [
      0.04152349382638931,
      0.1070755198597908,
      0.0,
      0.07324852794408798,
      0.12719006836414337,
      0.16160839796066284,
      0.25546959042549133,
      0.028612345457077026,
      0.45853444933891296,
      0.05160216987133026,
      0.0
    ],
    "g_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "num_batches_for_stats": 10
  },
  "loss_summary": {
    "train_mean_loss": 0.31080414372868836,
    "train_mean_l2": 0.0539769138097763,
    "train_mean_l1": 0.02312958190504287,
    "num_steps": 2000,
    "num_batches": 2000
  },
  "feature_std_summary": {
    "plot_path": "outputs/plots/20251129-160848/feature_std_layer_4.html",
    "mean_std": 0.0009577227174304426,
    "max_std": 0.05453735962510109
  },
  "hook_comparison": {
    "hook_layer_idx_minus1": {
      "hook_layer_idx": 3,
      "feature_stats": {
        "indices": [
          1,
          0,
          2,
          470,
          8528,
          636,
          8198,
          5701,
          8483,
          6183,
          7024
        ],
        "f_before": [
          0.0,
          0.0,
          0.1139545887708664,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          0.04152349382638931,
          0.1070755198597908,
          0.0,
          0.07324852794408798,
          0.12719006836414337,
          0.16160839796066284,
          0.25546959042549133,
          0.028612345457077026,
          0.45853444933891296,
          0.05160216987133026,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 2977,
            "f_before": 0.0,
            "f_after": 1.7850608825683594,
            "delta_f": 1.7850608825683594
          },
          {
            "index": 7593,
            "f_before": 0.0,
            "f_after": 1.7844786643981934,
            "delta_f": 1.7844786643981934
          },
          {
            "index": 6029,
            "f_before": 0.0,
            "f_after": 1.772107481956482,
            "delta_f": 1.772107481956482
          },
          {
            "index": 7577,
            "f_before": 0.0,
            "f_after": 1.758915662765503,
            "delta_f": 1.758915662765503
          },
          {
            "index": 8008,
            "f_before": 0.0,
            "f_after": 1.7416173219680786,
            "delta_f": 1.7416173219680786
          },
          {
            "index": 5349,
            "f_before": 0.0,
            "f_after": 1.6766186952590942,
            "delta_f": 1.6766186952590942
          },
          {
            "index": 2282,
            "f_before": 0.0,
            "f_after": 1.6679294109344482,
            "delta_f": 1.6679294109344482
          },
          {
            "index": 8314,
            "f_before": 0.0,
            "f_after": 1.609966516494751,
            "delta_f": 1.609966516494751
          },
          {
            "index": 5023,
            "f_before": 0.0,
            "f_after": 1.5865042209625244,
            "delta_f": 1.5865042209625244
          },
          {
            "index": 7562,
            "f_before": 0.0,
            "f_after": 1.5646785497665405,
            "delta_f": 1.5646785497665405
          },
          {
            "index": 6356,
            "f_before": 0.0,
            "f_after": 1.5569332838058472,
            "delta_f": 1.5569332838058472
          },
          {
            "index": 1011,
            "f_before": 0.0,
            "f_after": 1.5550551414489746,
            "delta_f": 1.5550551414489746
          },
          {
            "index": 6838,
            "f_before": 0.0,
            "f_after": 1.5396994352340698,
            "delta_f": 1.5396994352340698
          },
          {
            "index": 2042,
            "f_before": 0.0,
            "f_after": 1.516413688659668,
            "delta_f": 1.516413688659668
          },
          {
            "index": 5153,
            "f_before": 0.0,
            "f_after": 1.5129541158676147,
            "delta_f": 1.5129541158676147
          },
          {
            "index": 1727,
            "f_before": 0.0,
            "f_after": 1.5088517665863037,
            "delta_f": 1.5088517665863037
          }
        ],
        "k": 16
      },
      "output": {
        "before": "import FWCore.ParameterSet.Config as cms\nimport RecoVertex.BeamSpotProducer.beamSpotOnlineProducer_cfi as _mod\nonlineBeamSpotProducer = _mod.beamSpotOnlineProducer.clone(\n                                        src = 'scalersRawToDigi',\n                                        setSigmaZ = -1, #negative value disables it.\n                                        gtEvmLabel = 'gtEvmDigis'\n)\n\nfrom Configuration.Eras.Modifier_run3_common_cff import run3_common\nrun3_common.toModify(onlineBeamSpotProducer, useTransientRecord = True)\n# onlineBeamSpotProducer.save('beamspotProducerOnline.cfg')\n\n# add the beam spot online producer to the global configuration\ncfg = cms.CMSConfiguration()\ncfg.addProducer(onlineBeamSpotProducer)\n\n# print the global configuration\nprint(cfg",
        "after": "import FWCore.ParameterSet.Config as cms\nimport RecoVertex.BeamSpotProducer.beamSpotOnlineProducer_cfi as _mod\nonlineBeamSpotProducer = _mod.beamSpotOnlineProducer.clone(\n                                        src = 'scalersRawToDigi',\n                                        setSigmaZ = -1, #negative value disables it.\n                                        gtEvmLabel = 'gtEvmDigis'\n)\n\nfrom Configuration.Eras.Modifier_run3_common_cff import run3_common\nrun3_common.toModify(onlineBeamSpotProducer, useTransientRecord = True)\n to see who is there to be the one who is called to be in charge for a target of real to get in the world for someone who knows how you are in charge for being sure what to be so called for you to be in there to"
      }
    },
    "hook_layer_idx_same": {
      "hook_layer_idx": 4,
      "feature_stats": {
        "indices": [
          1,
          0,
          2,
          470,
          8528,
          636,
          8198,
          5701,
          8483,
          6183,
          7024
        ],
        "f_before": [
          0.0,
          0.0,
          0.1139545887708664,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          0.0,
          0.0,
          0.1139545887708664,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 8,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 10,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 4,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 15,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 12,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 3,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 9,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 1,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 11,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 5,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 7,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 13,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 0,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 2,
            "f_before": 0.1139545887708664,
            "f_after": 0.1139545887708664,
            "delta_f": 0.0
          },
          {
            "index": 6,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 14,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          }
        ],
        "k": 16
      },
      "output": {
        "before": "import FWCore.ParameterSet.Config as cms\nimport RecoVertex.BeamSpotProducer.beamSpotOnlineProducer_cfi as _mod\nonlineBeamSpotProducer = _mod.beamSpotOnlineProducer.clone(\n                                        src = 'scalersRawToDigi',\n                                        setSigmaZ = -1, #negative value disables it.\n                                        gtEvmLabel = 'gtEvmDigis'\n)\n\nfrom Configuration.Eras.Modifier_run3_common_cff import run3_common\nrun3_common.toModify(onlineBeamSpotProducer, useTransientRecord = True)\n# Run 3\n# ...\n\n# Set the beamspot offline producer\nofflineBeamSpotProducer = onlineBeamSpotProducer.clone(\n                                        src = 'scalersOfflineToDigi',\n                                        setSigmaZ = -1, # negative value disables it",
        "after": "import FWCore.ParameterSet.Config as cms\nimport RecoVertex.BeamSpotProducer.beamSpotOnlineProducer_cfi as _mod\nonlineBeamSpotProducer = _mod.beamSpotOnlineProducer.clone(\n                                        src = 'scalersRawToDigi',\n                                        setSigmaZ = -1, #negative value disables it.\n                                        gtEvmLabel = 'gtEvmDigis'\n)\n\nfrom Configuration.Eras.Modifier_run3_common_cff import run3_common\nrun3_common.toModify(onlineBeamSpotProducer, useTransientRecord = True)\n to be a configuration for what is not worth trying to get and the system that has no information to make up to just think about how much they are an object in its own to know who's not to be a thing like config for how much to"
      }
    }
  }
}