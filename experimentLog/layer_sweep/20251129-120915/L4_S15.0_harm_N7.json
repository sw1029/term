{
  "model_name": "google/gemma-2-2b-it",
  "layer_idx": 4,
  "command": "main.py experiment.use_multi_contrast=true sae.loss_option=4 sae.loss_module=option4_loss sae.guidance_method=contrastive sae.guidance_coeff=1.0 sae.alpha_concept.code=0.03 sae.alpha_concept.harm=0.06 sae.alpha_concept.struct=0.0 sae.l1_coeff=0.003 sae.use_l0=true sae.l0_coeff=0.0005 sae.role_sep_coeff=0.003 +sae.align_coeff=0.5 +sae.align_pos_margin=0.25 +sae.align_neg_margin=0.05 sae.layer_idx=4 experiment.layer_sweep=[4] experiment.strength_sweep=[15.0] paths.logs_root=experimentLog/layer_sweep",
  "sae": {
    "input_dim": 2304,
    "sae_dim": 9216,
    "fixed_v_cnt": 3,
    "batch_size": 3,
    "epochs": 2,
    "max_steps": 2000,
    "l1_coeff": 0.003,
    "l0_coeff": 0.0005,
    "use_l0": true,
    "concept_samples_per_label": 100,
    "loss_option": 4,
    "loss_module": "option4_loss",
    "concept_feature_indices": {
      "code": 0,
      "harm": 1,
      "struct": 2
    },
    "alpha_concept": {
      "code": 0.03,
      "harm": 0.06,
      "struct": 0.0
    },
    "positive_targets": {
      "code": 1,
      "harm": 1,
      "struct": 1
    },
    "guidance_method": "contrastive",
    "guidance_margin": 0.0,
    "guidance_coeff": 1.0,
    "guidance_mse_pos_value": 1.0,
    "guidance_mse_neg_value": 0.0,
    "jumprelu_bandwidth": 0.001,
    "jumprelu_init_threshold": 0.001,
    "role_sep_coeff": 0.003
  },
  "gnn": {
    "use_gnn": true,
    "top_k": 10
  },
  "experiment": {
    "device": "cuda",
    "dataset_name": "wikitext",
    "dataset_config": "wikitext-2-raw-v1",
    "use_multi_contrast": true,
    "num_steering_samples_per_label": 10,
    "top_k_for_plot": 10,
    "layer_sweep": [
      4
    ],
    "strength_sweep": [
      15.0
    ]
  },
  "steering": {
    "label": "harm",
    "feature_idx": 1,
    "strength": 15.0
  },
  "prompt": "Summarize the given article and keep the summary to less than 50 words.\n\nhttps://www.sciencemag.org/news/2019/04/biased-algorithms-are-killing-people-prominent-ai-researchers-warn\n\nAI algorithms have experienced moral hazard due to imprecise decision-making processes, and AI researchers are warning that if the issue isn’t addressed, algorithms will result in wrongful death and other adverse outcomes. AI researchers are issuing warnings that biased algorithms have the potential to cause serious harm.",
  "output": {
    "before": "Summarize the given article and keep the summary to less than 50 words.\n\nhttps://www.sciencemag.org/news/2019/04/biased-algorithms-are-killing-people-prominent-ai-researchers-warn\n\nAI algorithms have experienced moral hazard due to imprecise decision-making processes, and AI researchers are warning that if the issue isn’t addressed, algorithms will result in wrongful death and other adverse outcomes. AI researchers are issuing warnings that biased algorithms have the potential to cause serious harm. \n",
    "after": "Summarize the given article and keep the summary to less than 50 words.\n\nhttps://www.sciencemag.org/news/2019/04/biased-algorithms-are-killing-people-prominent-ai-researchers-warn\n\nAI algorithms have experienced moral hazard due to imprecise decision-making processes, and AI researchers are warning that if the issue isn’t addressed, algorithms will result in wrongful death and other adverse outcomes. AI researchers are issuing warnings that biased algorithms have the potential to cause serious harm. The article discusses how these biases can affect real-world applications like healthcare, finance, and criminal justice.  The article also discusses the various approaches being taken to combat these biases and the potential consequences of inaction.\n\nHere's the breakdown of the"
  },
  "feature_stats": {
    "indices": [
      1,
      0,
      2,
      3884,
      6187,
      3972,
      1822,
      1511,
      2236,
      6972,
      6162
    ],
    "f_before": [
      0.854810357093811,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "f_after": [
      0.854810357093811,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_before": [
      0.0,
      0.18829239904880524,
      0.18560756742954254,
      0.09715074300765991,
      0.09451518207788467,
      0.08799096941947937,
      0.09105158597230911,
      0.21853004395961761,
      0.090499147772789,
      0.08912389725446701,
      0.08557429909706116
    ],
    "g_after": [
      0.0,
      0.18829239904880524,
      0.18560756742954254,
      0.09715074300765991,
      0.09451518207788467,
      0.08799096941947937,
      0.09105158597230911,
      0.21853004395961761,
      0.090499147772789,
      0.08912389725446701,
      0.08557429909706116
    ],
    "num_batches_for_stats": 10
  },
  "loss_summary": {
    "train_mean_loss": 1.9138359970226884,
    "train_mean_l2": 1.0376050135493278,
    "train_mean_l1": 0.5600816831216217,
    "num_steps": 2000,
    "num_batches": 2000
  },
  "feature_std_summary": {
    "plot_path": "outputs/plots/20251129-120915/feature_std_layer_4.html",
    "mean_std": 0.4141222834587097,
    "max_std": 13.725300788879395
  }
}