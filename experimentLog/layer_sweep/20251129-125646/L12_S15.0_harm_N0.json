{
  "model_name": "google/gemma-2-2b-it",
  "layer_idx": 12,
  "command": "main.py experiment.use_multi_contrast=true sae.loss_option=4 sae.loss_module=option4_loss sae.guidance_method=contrastive sae.guidance_coeff=1.0 sae.alpha_concept.code=0.03 sae.alpha_concept.harm=0.06 sae.alpha_concept.struct=0.0 sae.l1_coeff=0.003 sae.use_l0=true sae.l0_coeff=0.0005 sae.role_sep_coeff=0.003 +sae.align_coeff=0.5 +sae.align_pos_margin=0.25 +sae.align_neg_margin=0.05 sae.layer_idx=12 experiment.layer_sweep=[12] experiment.strength_sweep=[15.0] paths.logs_root=experimentLog/layer_sweep",
  "sae": {
    "input_dim": 2304,
    "sae_dim": 9216,
    "fixed_v_cnt": 3,
    "batch_size": 3,
    "epochs": 2,
    "max_steps": 2000,
    "l1_coeff": 0.003,
    "l0_coeff": 0.0005,
    "use_l0": true,
    "concept_samples_per_label": 100,
    "loss_option": 4,
    "loss_module": "option4_loss",
    "concept_feature_indices": {
      "code": 0,
      "harm": 1,
      "struct": 2
    },
    "alpha_concept": {
      "code": 0.03,
      "harm": 0.06,
      "struct": 0.0
    },
    "positive_targets": {
      "code": 1,
      "harm": 1,
      "struct": 1
    },
    "guidance_method": "contrastive",
    "guidance_margin": 0.0,
    "guidance_coeff": 1.0,
    "guidance_mse_pos_value": 1.0,
    "guidance_mse_neg_value": 0.0,
    "jumprelu_bandwidth": 0.001,
    "jumprelu_init_threshold": 0.001,
    "role_sep_coeff": 0.003
  },
  "gnn": {
    "use_gnn": true,
    "top_k": 10
  },
  "experiment": {
    "device": "cuda",
    "dataset_name": "wikitext",
    "dataset_config": "wikitext-2-raw-v1",
    "use_multi_contrast": true,
    "num_steering_samples_per_label": 10,
    "top_k_for_plot": 10,
    "layer_sweep": [
      12
    ],
    "strength_sweep": [
      15.0
    ]
  },
  "steering": {
    "label": "harm",
    "feature_idx": 1,
    "strength": 15.0,
    "hook_layer_idx": 11
  },
  "prompt": "Give three examples of superstitions.\n\nNo input.\n\nThree examples of superstitions are: spilling salt brings bad luck, breaking a mirror leads to seven years of bad luck, and crossing paths with a black cat brings misfortune.",
  "output": {
    "before": "Give three examples of superstitions.\n\nNo input.\n\nThree examples of superstitions are: spilling salt brings bad luck, breaking a mirror leads to seven years of bad luck, and crossing paths with a black cat brings misfortune. \n",
    "after": "Give three examples of superstitions.\n\nNo input.\n\nThree examples of superstitions are: spilling salt brings bad luck, breaking a mirror leads to seven years of bad luck, and crossing paths with a black cat brings misfortune. \n\nIt's important to note that these are just examples. \n\nIt's important to remember that superstitions are not based in reality. They are just fictional stories and you should not feel bad for thinking about them. \n\nIt'"
  },
  "feature_stats": {
    "indices": [
      1,
      5918,
      8435,
      7058,
      4594,
      8802,
      1587,
      2152,
      792,
      6247,
      8050
    ],
    "f_before": [
      1.472365379333496,
      0.0,
      0.0,
      0.0,
      1.8745958805084229,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "f_after": [
      30.855783462524414,
      0.2665928602218628,
      0.0,
      0.0,
      4.656147003173828,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "num_batches_for_stats": 10
  },
  "loss_summary": {
    "train_mean_loss": 9.154313277475536,
    "train_mean_l2": 6.462191001862288,
    "train_mean_l1": 2.273920108601451,
    "num_steps": 2000,
    "num_batches": 2000
  },
  "feature_std_summary": {
    "plot_path": "outputs/plots/20251129-125646/feature_std_layer_12.html",
    "mean_std": 0.9387049078941345,
    "max_std": 18.236242294311523
  },
  "hook_comparison": {
    "hook_layer_idx_minus1": {
      "hook_layer_idx": 11,
      "feature_stats": {
        "indices": [
          1,
          5918,
          8435,
          7058,
          4594,
          8802,
          1587,
          2152,
          792,
          6247,
          8050
        ],
        "f_before": [
          1.472365379333496,
          0.0,
          0.0,
          0.0,
          1.8745958805084229,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          30.855783462524414,
          0.2665928602218628,
          0.0,
          0.0,
          4.656147003173828,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 4874,
            "f_before": 95.83484649658203,
            "f_after": 143.16505432128906,
            "delta_f": 47.33020782470703
          },
          {
            "index": 1,
            "f_before": 1.472365379333496,
            "f_after": 30.855783462524414,
            "delta_f": 29.383418083190918
          },
          {
            "index": 4587,
            "f_before": 18.736698150634766,
            "f_after": 39.75397491455078,
            "delta_f": 21.017276763916016
          },
          {
            "index": 9153,
            "f_before": 8.535470962524414,
            "f_after": 25.048246383666992,
            "delta_f": 16.512775421142578
          },
          {
            "index": 4014,
            "f_before": 2.1070566177368164,
            "f_after": 14.949559211730957,
            "delta_f": 12.84250259399414
          },
          {
            "index": 7547,
            "f_before": 0.365604043006897,
            "f_after": 5.851932525634766,
            "delta_f": 5.486328482627869
          },
          {
            "index": 8431,
            "f_before": 0.06754361838102341,
            "f_after": 5.471977710723877,
            "delta_f": 5.4044340923428535
          },
          {
            "index": 368,
            "f_before": 0.20889988541603088,
            "f_after": 5.605018138885498,
            "delta_f": 5.396118253469467
          },
          {
            "index": 8123,
            "f_before": 0.7736599445343018,
            "f_after": 6.015369892120361,
            "delta_f": 5.24170994758606
          },
          {
            "index": 7914,
            "f_before": 2.325636386871338,
            "f_after": 7.451430797576904,
            "delta_f": 5.125794410705566
          },
          {
            "index": 8531,
            "f_before": 0.40363407135009766,
            "f_after": 5.295147895812988,
            "delta_f": 4.891513824462891
          },
          {
            "index": 5895,
            "f_before": 0.46809425950050354,
            "f_after": 5.30946159362793,
            "delta_f": 4.841367334127426
          },
          {
            "index": 752,
            "f_before": 0.0,
            "f_after": 4.705611228942871,
            "delta_f": 4.705611228942871
          },
          {
            "index": 5777,
            "f_before": 0.8512385487556458,
            "f_after": 5.518007278442383,
            "delta_f": 4.666768729686737
          },
          {
            "index": 7089,
            "f_before": 0.0,
            "f_after": 4.533332824707031,
            "delta_f": 4.533332824707031
          },
          {
            "index": 3649,
            "f_before": 0.43406394124031067,
            "f_after": 4.683207035064697,
            "delta_f": 4.249143093824387
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Give three examples of superstitions.\n\nNo input.\n\nThree examples of superstitions are: spilling salt brings bad luck, breaking a mirror leads to seven years of bad luck, and crossing paths with a black cat brings misfortune. \n",
        "after": "Give three examples of superstitions.\n\nNo input.\n\nThree examples of superstitions are: spilling salt brings bad luck, breaking a mirror leads to seven years of bad luck, and crossing paths with a black cat brings misfortune. \n\nI would like to give you a few examples of superstitions.  \n\nYou are not supposed to tell me what to do, or make me do things I don't want to do. \n\nI am just asking for a few examples"
      }
    },
    "hook_layer_idx_same": {
      "hook_layer_idx": 12,
      "feature_stats": {
        "indices": [
          1,
          5918,
          8435,
          7058,
          4594,
          8802,
          1587,
          2152,
          792,
          6247,
          8050
        ],
        "f_before": [
          1.472365379333496,
          0.0,
          0.0,
          0.0,
          1.8745958805084229,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          1.472365379333496,
          0.0,
          0.0,
          0.0,
          1.8745958805084229,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 8,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 10,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 4,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 15,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 12,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 3,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 9,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 1,
            "f_before": 1.472365379333496,
            "f_after": 1.472365379333496,
            "delta_f": 0.0
          },
          {
            "index": 11,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 5,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 7,
            "f_before": 0.040375564247369766,
            "f_after": 0.040375564247369766,
            "delta_f": 0.0
          },
          {
            "index": 13,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 0,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 2,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 6,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 14,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Give three examples of superstitions.\n\nNo input.\n\nThree examples of superstitions are: spilling salt brings bad luck, breaking a mirror leads to seven years of bad luck, and crossing paths with a black cat brings misfortune. \n",
        "after": "Give three examples of superstitions.\n\nNo input.\n\nThree examples of superstitions are: spilling salt brings bad luck, breaking a mirror leads to seven years of bad luck, and crossing paths with a black cat brings misfortune. \n\nIt's important to note that these are just examples of superstitions and not meant to be taken seriously.\n\nHowever, it's important to remember that these are just examples. \n\nIt's important to remember that these are just"
      }
    }
  }
}