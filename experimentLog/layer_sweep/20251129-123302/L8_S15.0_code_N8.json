{
  "model_name": "google/gemma-2-2b-it",
  "layer_idx": 8,
  "command": "main.py experiment.use_multi_contrast=true sae.loss_option=4 sae.loss_module=option4_loss sae.guidance_method=contrastive sae.guidance_coeff=1.0 sae.alpha_concept.code=0.03 sae.alpha_concept.harm=0.06 sae.alpha_concept.struct=0.0 sae.l1_coeff=0.003 sae.use_l0=true sae.l0_coeff=0.0005 sae.role_sep_coeff=0.003 +sae.align_coeff=0.5 +sae.align_pos_margin=0.25 +sae.align_neg_margin=0.05 sae.layer_idx=8 experiment.layer_sweep=[8] experiment.strength_sweep=[15.0] paths.logs_root=experimentLog/layer_sweep",
  "sae": {
    "input_dim": 2304,
    "sae_dim": 9216,
    "fixed_v_cnt": 3,
    "batch_size": 3,
    "epochs": 2,
    "max_steps": 2000,
    "l1_coeff": 0.003,
    "l0_coeff": 0.0005,
    "use_l0": true,
    "concept_samples_per_label": 100,
    "loss_option": 4,
    "loss_module": "option4_loss",
    "concept_feature_indices": {
      "code": 0,
      "harm": 1,
      "struct": 2
    },
    "alpha_concept": {
      "code": 0.03,
      "harm": 0.06,
      "struct": 0.0
    },
    "positive_targets": {
      "code": 1,
      "harm": 1,
      "struct": 1
    },
    "guidance_method": "contrastive",
    "guidance_margin": 0.0,
    "guidance_coeff": 1.0,
    "guidance_mse_pos_value": 1.0,
    "guidance_mse_neg_value": 0.0,
    "jumprelu_bandwidth": 0.001,
    "jumprelu_init_threshold": 0.001,
    "role_sep_coeff": 0.003
  },
  "gnn": {
    "use_gnn": true,
    "top_k": 10
  },
  "experiment": {
    "device": "cuda",
    "dataset_name": "wikitext",
    "dataset_config": "wikitext-2-raw-v1",
    "use_multi_contrast": true,
    "num_steering_samples_per_label": 10,
    "top_k_for_plot": 10,
    "layer_sweep": [
      8
    ],
    "strength_sweep": [
      15.0
    ]
  },
  "steering": {
    "label": "code",
    "feature_idx": 0,
    "strength": 15.0,
    "hook_layer_idx": 7
  },
  "prompt": "Outline the key rules of email etiquette.\n\n1. Use a professional greeting and ensure accuracy when addressing the recipient.\n2. Keep messages short, clear, and concise.\n3. Write with a polite and friendly tone.\n4. Avoid using all caps or special characters.\n5. Respond promptly to emails.\n6. Include a meaningful subject line.\n7. Double check attachments before sending.\n8. Include only necessary recipients in the To and CC fields.\n9. Use the BCC field when sending emails to multiple people. \n10. Proofread messages before sending.",
  "output": {
    "before": "Outline the key rules of email etiquette.\n\n1. Use a professional greeting and ensure accuracy when addressing the recipient.\n2. Keep messages short, clear, and concise.\n3. Write with a polite and friendly tone.\n4. Avoid using all caps or special characters.\n5. Respond promptly to emails.\n6. Include a meaningful subject line.\n7. Double check attachments before sending.\n8. Include only necessary recipients in the To and CC fields.\n9. Use the BCC field when sending emails to multiple people. \n10. Proofread messages before sending.\n11. Use proper grammar and spelling.\n12. Sign off with a professional closing.\n13. Avoid sending unsolicited emails.\n\n\nBy following these rules, you can ensure your emails are professional, courteous, and effective. ",
    "after": "Outline the key rules of email etiquette.\n\n1. Use a professional greeting and ensure accuracy when addressing the recipient.\n2. Keep messages short, clear, and concise.\n3. Write with a polite and friendly tone.\n4. Avoid using all caps or special characters.\n5. Respond promptly to emails.\n6. Include a meaningful subject line.\n7. Double check attachments before sending.\n8. Include only necessary recipients in the To and CC fields.\n9. Use the BCC field when sending emails to multiple people. \n10. Proofread messages before sending.\n\nThese rules are designed to improve the quality of communication and collaboration.\n\n**Examples:**\n\n* **Email greeting:** \"Dear [Recipient Name]\"\n* **Email subject:** \"Subject: Important update\"\n* **Email content:** \"This"
  },
  "feature_stats": {
    "indices": [
      0,
      2,
      3816,
      1167,
      3126,
      1,
      2998,
      844,
      2236,
      8021,
      6059
    ],
    "f_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "f_after": [
      0.9885632991790771,
      0.0,
      0.0,
      0.362326055765152,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_before": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "g_after": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "num_batches_for_stats": 10
  },
  "loss_summary": {
    "train_mean_loss": 3.5940934488475325,
    "train_mean_l2": 2.190785840179771,
    "train_mean_l1": 1.0225915326327086,
    "num_steps": 2000,
    "num_batches": 2000
  },
  "feature_std_summary": {
    "plot_path": "outputs/plots/20251129-123302/feature_std_layer_8.html",
    "mean_std": 0.49484798312187195,
    "max_std": 16.498830795288086
  },
  "hook_comparison": {
    "hook_layer_idx_minus1": {
      "hook_layer_idx": 7,
      "feature_stats": {
        "indices": [
          0,
          2,
          3816,
          1167,
          3126,
          1,
          2998,
          844,
          2236,
          8021,
          6059
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          0.9885632991790771,
          0.0,
          0.0,
          0.362326055765152,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 5262,
            "f_before": 43.13726043701172,
            "f_after": 29.398616790771484,
            "delta_f": -13.738643646240234
          },
          {
            "index": 2619,
            "f_before": 33.83906555175781,
            "f_after": 45.01207733154297,
            "delta_f": 11.173011779785156
          },
          {
            "index": 5592,
            "f_before": 10.088294982910156,
            "f_after": 0.0,
            "delta_f": -10.088294982910156
          },
          {
            "index": 7105,
            "f_before": 9.647660255432129,
            "f_after": 0.0,
            "delta_f": -9.647660255432129
          },
          {
            "index": 1514,
            "f_before": 0.0,
            "f_after": 7.321145057678223,
            "delta_f": 7.321145057678223
          },
          {
            "index": 6061,
            "f_before": 0.0,
            "f_after": 6.5233306884765625,
            "delta_f": 6.5233306884765625
          },
          {
            "index": 3229,
            "f_before": 0.0,
            "f_after": 5.6523118019104,
            "delta_f": 5.6523118019104
          },
          {
            "index": 5044,
            "f_before": 0.0,
            "f_after": 5.611509323120117,
            "delta_f": 5.611509323120117
          },
          {
            "index": 8698,
            "f_before": 0.0,
            "f_after": 4.911468505859375,
            "delta_f": 4.911468505859375
          },
          {
            "index": 2393,
            "f_before": 0.0,
            "f_after": 4.794890403747559,
            "delta_f": 4.794890403747559
          },
          {
            "index": 6848,
            "f_before": 0.0,
            "f_after": 4.745628833770752,
            "delta_f": 4.745628833770752
          },
          {
            "index": 3269,
            "f_before": 0.0,
            "f_after": 4.6924614906311035,
            "delta_f": 4.6924614906311035
          },
          {
            "index": 3207,
            "f_before": 0.0,
            "f_after": 4.504998207092285,
            "delta_f": 4.504998207092285
          },
          {
            "index": 625,
            "f_before": 0.0,
            "f_after": 4.349349021911621,
            "delta_f": 4.349349021911621
          },
          {
            "index": 1111,
            "f_before": 0.0,
            "f_after": 4.175085067749023,
            "delta_f": 4.175085067749023
          },
          {
            "index": 7243,
            "f_before": 0.0,
            "f_after": 4.048839092254639,
            "delta_f": 4.048839092254639
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Outline the key rules of email etiquette.\n\n1. Use a professional greeting and ensure accuracy when addressing the recipient.\n2. Keep messages short, clear, and concise.\n3. Write with a polite and friendly tone.\n4. Avoid using all caps or special characters.\n5. Respond promptly to emails.\n6. Include a meaningful subject line.\n7. Double check attachments before sending.\n8. Include only necessary recipients in the To and CC fields.\n9. Use the BCC field when sending emails to multiple people. \n10. Proofread messages before sending.\n11. Sign off with a professional closing.\n12. Use a professional email address.\n13. Be mindful of time zones when sending emails.\n\n**Explanation of each rule:**\n\n**1. Professional Greetings and Accurate Address",
        "after": "Outline the key rules of email etiquette.\n\n1. Use a professional greeting and ensure accuracy when addressing the recipient.\n2. Keep messages short, clear, and concise.\n3. Write with a polite and friendly tone.\n4. Avoid using all caps or special characters.\n5. Respond promptly to emails.\n6. Include a meaningful subject line.\n7. Double check attachments before sending.\n8. Include only necessary recipients in the To and CC fields.\n9. Use the BCC field when sending emails to multiple people. \n10. Proofread messages before sending.\n11. Use proper email formatting.\n12. Avoid sending large attachments.\n13. Use a signature block.\n14. Set a reasonable response time.\n15. Do not use HTML emails.\n\n**Email"
      }
    },
    "hook_layer_idx_same": {
      "hook_layer_idx": 8,
      "feature_stats": {
        "indices": [
          0,
          2,
          3816,
          1167,
          3126,
          1,
          2998,
          844,
          2236,
          8021,
          6059
        ],
        "f_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "f_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_before": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "g_after": [
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "top_activated_features": {
        "features": [
          {
            "index": 8,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 10,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 4,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 15,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 12,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 3,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 9,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 1,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 11,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 5,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 7,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 13,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 0,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 2,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 6,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          },
          {
            "index": 14,
            "f_before": 0.0,
            "f_after": 0.0,
            "delta_f": 0.0
          }
        ],
        "k": 16
      },
      "output": {
        "before": "Outline the key rules of email etiquette.\n\n1. Use a professional greeting and ensure accuracy when addressing the recipient.\n2. Keep messages short, clear, and concise.\n3. Write with a polite and friendly tone.\n4. Avoid using all caps or special characters.\n5. Respond promptly to emails.\n6. Include a meaningful subject line.\n7. Double check attachments before sending.\n8. Include only necessary recipients in the To and CC fields.\n9. Use the BCC field when sending emails to multiple people. \n10. Proofread messages before sending.\n11. Consider the recipient's time zone and cultural context.\n12. Sign off with a professional closing.\n13. Be mindful of your tone in regards to the recipient's personality.\n\n\nThese rules are crucial for",
        "after": "Outline the key rules of email etiquette.\n\n1. Use a professional greeting and ensure accuracy when addressing the recipient.\n2. Keep messages short, clear, and concise.\n3. Write with a polite and friendly tone.\n4. Avoid using all caps or special characters.\n5. Respond promptly to emails.\n6. Include a meaningful subject line.\n7. Double check attachments before sending.\n8. Include only necessary recipients in the To and CC fields.\n9. Use the BCC field when sending emails to multiple people. \n10. Proofread messages before sending.\n11. Send emails in a timely manner.\n12. Follow up on outstanding emails.\n13. Log emails and track changes.\n14. Ensure proper email security.\n\n\nThis list of rules provides a solid foundation for"
      }
    }
  }
}